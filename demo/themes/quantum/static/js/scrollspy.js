function ne(e){const r=[].forEach,d=[].some,c=typeof window<"u"&&document.body,s=" ";let a,C=!0,b=0;function h(t,n){const u=n.appendChild(i(t));if(t.children.length){const m=g(t.isCollapsed);t.children.forEach(T=>{h(T,m)}),u.appendChild(m)}}function l(t,n){const m=g(!1);if(n.forEach(T=>{h(T,m)}),a=t||a,a!==null)return a.firstChild&&a.removeChild(a.firstChild),n.length===0?a:a.appendChild(m)}function i(t){const n=document.createElement("li"),u=document.createElement("a");return e.listItemClass&&n.setAttribute("class",e.listItemClass),e.onClick&&(u.onclick=e.onClick),e.includeTitleTags&&u.setAttribute("title",t.textContent),e.includeHtml&&t.childNodes.length?r.call(t.childNodes,m=>{u.appendChild(m.cloneNode(!0))}):u.textContent=t.textContent,u.setAttribute("href",`${e.basePath}#${t.id}`),u.setAttribute("class",`${e.linkClass+s}node-name--${t.nodeName}${s}${e.extraLinkClasses}`),n.appendChild(u),n}function g(t){const n=e.orderedList?"ol":"ul",u=document.createElement(n);let m=e.listClass+s+e.extraListClasses;return t&&(m=m+s+e.collapsibleClass,m=m+s+e.isCollapsedClass),u.setAttribute("class",m),u}function f(){const t=v(),n=document.querySelector(e.positionFixedSelector);e.fixedSidebarOffset==="auto"&&(e.fixedSidebarOffset=a.offsetTop),t>e.fixedSidebarOffset?n.className.indexOf(e.positionFixedClass)===-1&&(n.className+=s+e.positionFixedClass):n.className=n.className.replace(s+e.positionFixedClass,"")}function S(t){let n=0;return t!==null&&(n=t.offsetTop,e.hasInnerContainers&&(n+=S(t.offsetParent))),n}function p(t,n){return t&&t.className!==n&&(t.className=n),t}function x(t,n){var R,z;e.positionFixedSelector&&f();const u=t,m=(R=n==null?void 0:n.target)!=null&&R.getAttribute?(z=n==null?void 0:n.target)==null?void 0:z.getAttribute("href"):null,T=m&&m.charAt(0)==="#"?j(m.replace("#","")):!1,I=C||T;if(n&&b<5&&b++,I&&a&&u.length>0){const V=A(u),X=a.querySelector(`.${e.activeLinkClass}`),q=V.id.replace(/([ #;&,.+*~':"!^$[\]()=>|/\\@])/g,"\\$1"),$=window.location.hash.replace("#","");let M=q;const Z=D();m&&T?M=m.replace("#",""):$&&$!==q&&Z&&(j(q)||b<=2)&&(M=$);const H=a.querySelector(`.${e.linkClass}[href="${e.basePath}#${M}"]`);if(X===H)return;const ee=a.querySelectorAll(`.${e.linkClass}`);r.call(ee,L=>{p(L,L.className.replace(s+e.activeLinkClass,""))});const te=a.querySelectorAll(`.${e.listItemClass}`);r.call(te,L=>{p(L,L.className.replace(s+e.activeListItemClass,""))}),H&&H.className.indexOf(e.activeLinkClass)===-1&&(H.className+=s+e.activeLinkClass);const F=H==null?void 0:H.parentNode;F&&F.className.indexOf(e.activeListItemClass)===-1&&(F.className+=s+e.activeListItemClass);const le=a.querySelectorAll(`.${e.listClass}.${e.collapsibleClass}`);r.call(le,L=>{L.className.indexOf(e.isCollapsedClass)===-1&&(L.className+=s+e.isCollapsedClass)}),H!=null&&H.nextSibling&&H.nextSibling.className.indexOf(e.isCollapsedClass)!==-1&&p(H.nextSibling,H.nextSibling.className.replace(s+e.isCollapsedClass,"")),w(H==null?void 0:H.parentNode.parentNode)}}function w(t){return t&&t.className.indexOf(e.collapsibleClass)!==-1&&t.className.indexOf(e.isCollapsedClass)!==-1?(p(t,t.className.replace(s+e.isCollapsedClass,"")),w(t.parentNode.parentNode)):t}function Y(t){const n=t.target||t.srcElement;typeof n.className!="string"||n.className.indexOf(e.linkClass)===-1||(C=!1)}function G(){C=!0}function J(){return C}function j(t){const n=O();return(document==null?void 0:document.getElementById(t)).offsetTop>n.offsetHeight-n.clientHeight*1.4-e.bottomModeThreshold}function D(){const t=O(),n=t.scrollHeight>t.clientHeight,u=v()+t.clientHeight>t.offsetHeight-e.bottomModeThreshold;return n&&u}function O(){let t;return e.scrollContainer&&document.querySelector(e.scrollContainer)?t=document.querySelector(e.scrollContainer):t=document.documentElement||c,t}function v(){const t=O();return(t==null?void 0:t.scrollTop)||0}function A(t,n=v()){let u;return d.call(t,(m,T)=>{if(S(m)>n+e.headingsOffset+10){const I=T===0?T:T-1;return u=t[I],!0}if(T===t.length-1)return u=t[t.length-1],!0}),u}function K(t){const n=v(),u=A(t,n),m=D();if((!u||n<5)&&!m)window.location.hash==="#"||window.location.hash===""||window.history.pushState(null,null,"#");else if(u&&!m){const T=`#${u.id}`;window.location.hash!==T&&window.history.pushState(null,null,T)}}return{enableTocAnimation:G,disableTocAnimation:Y,render:l,updateToc:x,getCurrentlyHighlighting:J,getTopHeader:A,getScrollTop:v,updateUrlHashForHeader:K}}const re={tocSelector:".js-toc",tocElement:null,contentSelector:".js-toc-content",contentElement:null,headingSelector:"h1, h2, h3",ignoreSelector:".js-toc-ignore",hasInnerContainers:!1,linkClass:"toc-link",extraLinkClasses:"",activeLinkClass:"is-active-link",listClass:"toc-list",extraListClasses:"",isCollapsedClass:"is-collapsed",collapsibleClass:"is-collapsible",listItemClass:"toc-list-item",activeListItemClass:"is-active-li",collapseDepth:0,scrollSmooth:!0,scrollSmoothDuration:420,scrollSmoothOffset:0,scrollEndCallback:function(e){},headingsOffset:1,enableUrlHashUpdateOnScroll:!1,scrollHandlerType:"auto",scrollHandlerTimeout:50,throttleTimeout:50,positionFixedSelector:null,positionFixedClass:"is-position-fixed",fixedSidebarOffset:"auto",includeHtml:!1,includeTitleTags:!1,onClick:function(e){},orderedList:!0,scrollContainer:null,skipRendering:!1,headingLabelCallback:!1,ignoreHiddenElements:!1,headingObjectCallback:null,basePath:"",disableTocScrollSync:!1,tocScrollingWrapper:null,tocScrollOffset:30,bottomModeThreshold:30};function oe(e){const r=[].reduce;function d(l){return l[l.length-1]}function c(l){return+l.nodeName.toUpperCase().replace("H","")}function s(l){try{return l instanceof window.HTMLElement||l instanceof window.parent.HTMLElement}catch{return l instanceof window.HTMLElement}}function a(l){if(!s(l))return l;if(e.ignoreHiddenElements&&(!l.offsetHeight||!l.offsetParent))return null;const i=l.getAttribute("data-heading-label")||(e.headingLabelCallback?String(e.headingLabelCallback(l.innerText)):(l.innerText||l.textContent).trim()),g={id:l.id,children:[],nodeName:l.nodeName,headingLevel:c(l),textContent:i};return e.includeHtml&&(g.childNodes=l.childNodes),e.headingObjectCallback?e.headingObjectCallback(g,l):g}function C(l,i){const g=a(l),f=g.headingLevel;let S=i,p=d(S);const x=p?p.headingLevel:0;let w=f-x;for(;w>0&&(p=d(S),!(p&&f===p.headingLevel));)p&&p.children!==void 0&&(S=p.children),w--;return f>=e.collapseDepth&&(g.isCollapsed=!0),S.push(g),S}function b(l,i){let g=i;e.ignoreSelector&&(g=i.split(",").map(function(S){return`${S.trim()}:not(${e.ignoreSelector})`}));try{return l.querySelectorAll(g)}catch{return console.warn(`Headers not found with selector: ${g}`),null}}function h(l){return r.call(l,function(g,f){const S=a(f);return S&&C(S,g.nest),g},{nest:[]})}return{nestHeadingsArray:h,selectHeadings:b}}function se(e){var r=e.duration,d=e.offset;if(typeof window>"u"||typeof location>"u")return;var c=location.hash?C(location.href):location.href;s();function s(){document.body.addEventListener("click",h,!1);function h(l){!a(l.target)||l.target.className.indexOf("no-smooth-scroll")>-1||l.target.href.charAt(l.target.href.length-2)==="#"&&l.target.href.charAt(l.target.href.length-1)==="!"||l.target.className.indexOf(e.linkClass)===-1||ce(l.target.hash,{duration:r,offset:d,callback:function(){b(l.target.hash)}})}}function a(h){return h.tagName.toLowerCase()==="a"&&(h.hash.length>0||h.href.charAt(h.href.length-1)==="#")&&(C(h.href)===c||C(h.href)+"#"===c)}function C(h){return h.slice(0,h.lastIndexOf("#"))}function b(h){var l=document.getElementById(h.substring(1));l&&(/^(?:a|select|input|button|textarea)$/i.test(l.tagName)||(l.tabIndex=-1),l.focus())}}function ce(e,r){var d=window.pageYOffset,c={duration:r.duration,offset:r.offset||0,callback:r.callback,easing:r.easing||g},s=document.querySelector('[id="'+decodeURI(e).split("#").join("")+'"]')||document.querySelector('[id="'+e.split("#").join("")+'"]'),a=typeof e=="string"?c.offset+(e?s&&s.getBoundingClientRect().top||0:-(document.documentElement.scrollTop||document.body.scrollTop)):e,C=typeof c.duration=="function"?c.duration(a):c.duration,b,h;requestAnimationFrame(function(f){b=f,l(f)});function l(f){h=f-b,window.scrollTo(0,c.easing(h,d,a,C)),h<C?requestAnimationFrame(l):i()}function i(){window.scrollTo(0,d+a),typeof c.callback=="function"&&c.callback()}function g(f,S,p,x){return f/=x/2,f<1?p/2*f*f+S:(f--,-p/2*(f*(f-2)-1)+S)}}function ae(e){const r=e.tocScrollingWrapper||e.tocElement||document.querySelector(e.tocSelector);if(r&&r.scrollHeight>r.clientHeight){const d=r.querySelector(`.${e.activeListItemClass}`);if(d){const s=d.offsetTop-e.tocScrollOffset;r.scrollTop=s>0?s:0}}}let o={},y,P,k,E,N;function W(e){let r=!1;o=de(re,e||{}),o.scrollSmooth&&(o.duration=o.scrollSmoothDuration,o.offset=o.scrollSmoothOffset,se(o)),y=ne(o),P=oe(o),U();const d=me(o);if(d===null)return;const c=Q(o);if(c===null||(k=P.selectHeadings(d,o.headingSelector),k===null))return;const a=P.nestHeadingsArray(k).nest;if(!o.skipRendering)y.render(c,a);else return this;let C=!1;const b=o.scrollHandlerTimeout||o.throttleTimeout;E=((i,g)=>fe(i,g,o.scrollHandlerType))(i=>{var f,S,p;y.updateToc(k,i),!o.disableTocScrollSync&&!C&&ae(o),o.enableUrlHashUpdateOnScroll&&r&&y.getCurrentlyHighlighting()&&y.updateUrlHashForHeader(k);const g=((S=(f=i==null?void 0:i.target)==null?void 0:f.scrollingElement)==null?void 0:S.scrollTop)===0;(i&&(i.eventPhase===0||i.currentTarget===null)||g)&&(y.updateToc(k),(p=o.scrollEndCallback)==null||p.call(o,i))},b),r||(E(),r=!0),window.onhashchange=window.onscrollend=i=>{E(i)},o.scrollContainer&&document.querySelector(o.scrollContainer)?(document.querySelector(o.scrollContainer).addEventListener("scroll",E,!1),document.querySelector(o.scrollContainer).addEventListener("resize",E,!1)):(document.addEventListener("scroll",E,!1),document.addEventListener("resize",E,!1));let l=null;N=B(i=>{C=!0,o.scrollSmooth&&y.disableTocAnimation(i),y.updateToc(k,i),l&&clearTimeout(l),l=setTimeout(()=>{y.enableTocAnimation()},o.scrollSmoothDuration),setTimeout(()=>{C=!1},o.scrollSmoothDuration+100)},o.throttleTimeout),o.scrollContainer&&document.querySelector(o.scrollContainer)?document.querySelector(o.scrollContainer).addEventListener("click",N,!1):document.addEventListener("click",N,!1)}function U(){const e=Q(o);e!==null&&(o.skipRendering||e&&(e.innerHTML=""),o.scrollContainer&&document.querySelector(o.scrollContainer)?(document.querySelector(o.scrollContainer).removeEventListener("scroll",E,!1),document.querySelector(o.scrollContainer).removeEventListener("resize",E,!1),y&&document.querySelector(o.scrollContainer).removeEventListener("click",N,!1)):(document.removeEventListener("scroll",E,!1),document.removeEventListener("resize",E,!1),y&&document.removeEventListener("click",N,!1)))}function ie(e){U(),W(e||o)}const ue=Object.prototype.hasOwnProperty;function de(...e){const r={};for(let d=0;d<e.length;d++){const c=e[d];for(const s in c)ue.call(c,s)&&(r[s]=c[s])}return r}function B(e,r,d){r||(r=250);let c,s;return function(...a){const C=this,b=+new Date;c&&b<c+r?(clearTimeout(s),s=setTimeout(()=>{c=b,e.apply(C,a)},r)):(c=b,e.apply(C,a))}}function _(e,r){let d;return(...c)=>{clearTimeout(d),d=setTimeout(()=>e.apply(this,c),r)}}function fe(e,r,d="auto"){switch(d){case"debounce":return _(e,r);case"throttle":return B(e,r);default:return r<334?_(e,r):B(e,r)}}function me(e){try{return e.contentElement||document.querySelector(e.contentSelector)}catch{return console.warn(`Contents element not found: ${e.contentSelector}`),null}}function Q(e){try{return e.tocElement||document.querySelector(e.tocSelector)}catch{return console.warn(`TOC element not found: ${e.tocSelector}`),null}}const he={destroy:U,init:W,refresh:ie};he.init({headingsOffset:40,scrollSmoothOffset:-40,tocSelector:"#toc",contentSelector:"[data-content-toc]",headingSelector:"h2",hasInnerContainers:!0});
